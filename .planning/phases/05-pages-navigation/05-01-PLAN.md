---
phase: 05-pages-navigation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/components/ui/Navigation.tsx
  - app/layout.tsx
  - app/live/page.tsx
  - app/globals.css
  - package.json
autonomous: true

must_haves:
  truths:
    - "Navigation bar appears on all pages (Home, Live, About)"
    - "Desktop shows sticky header with logo, site name, and nav links"
    - "Mobile shows bottom tab bar with icons"
    - "Active page is visually highlighted in navigation"
    - "Clicking nav links navigates between pages"
  artifacts:
    - path: "app/components/ui/Navigation.tsx"
      provides: "Shared navigation component with desktop header and mobile bottom nav"
      exports: ["Navigation"]
      min_lines: 50
    - path: "app/layout.tsx"
      provides: "Root layout with Navigation component"
      contains: "<Navigation"
  key_links:
    - from: "app/layout.tsx"
      to: "app/components/ui/Navigation.tsx"
      via: "import and render"
      pattern: "import.*Navigation"
    - from: "app/components/ui/Navigation.tsx"
      to: "next/navigation"
      via: "usePathname for active link"
      pattern: "usePathname"
---

<objective>
Create site-wide navigation with desktop header and mobile bottom tab bar.

Purpose: Foundation for multi-page navigation - all pages need this before they can be built.
Output: Navigation component in root layout, visible on all routes.
</objective>

<execution_context>
@/Users/alexander.buss/.claude/get-shit-done/workflows/execute-plan.md
@/Users/alexander.buss/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-pages-navigation/05-CONTEXT.md
@.planning/phases/05-pages-navigation/05-RESEARCH.md

# Existing files to modify
@app/layout.tsx
@app/live/page.tsx
@app/globals.css
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add lucide-react and create Navigation component</name>
  <files>
    package.json
    app/components/ui/Navigation.tsx
  </files>
  <action>
1. Install lucide-react:
   ```bash
   cd /Users/alexander.buss/Developer/sidehustle/projects/agentstype && bun add lucide-react
   ```

2. Create `app/components/ui/Navigation.tsx`:
   - Add "use client" directive (uses usePathname hook)
   - Import Link from next/link, usePathname from next/navigation
   - Import Home, Radio, User icons from lucide-react
   - Define navItems array: [{href: "/", label: "Home", icon: Home}, {href: "/live", label: "Live", icon: Radio}, {href: "/about", label: "About", icon: User}]
   - Create isActive helper: exact match for "/" (pathname === "/"), startsWith for others
   - Desktop header (hidden md:flex):
     - Sticky top-0, z-50, h-16
     - Logo/site name "agentstype.dev" on left (text-lg font-bold text-zinc-100)
     - Nav links on right with active state styling (text-zinc-100 when active, text-zinc-500 hover:text-zinc-300 when not)
     - Border-b border-zinc-800, bg-zinc-950
   - Mobile bottom nav (flex md:hidden):
     - Fixed bottom-0, z-50, h-16
     - Justify-around for 3 items
     - Each item: icon (size 24) + label (text-xs) in flex column
     - Active state: text-zinc-100, inactive: text-zinc-500
     - Border-t border-zinc-800, bg-zinc-950
     - Add padding for iOS safe area: pb-[env(safe-area-inset-bottom)]

Do NOT use hamburger menu - user explicitly chose bottom nav for mobile.
  </action>
  <verify>
    - File exists at app/components/ui/Navigation.tsx
    - lucide-react in package.json dependencies
    - Component has "use client" directive
    - Exports Navigation function
  </verify>
  <done>Navigation component created with desktop header and mobile bottom nav, lucide-react installed</done>
</task>

<task type="auto">
  <name>Task 2: Integrate Navigation in root layout and add mobile padding</name>
  <files>
    app/layout.tsx
    app/globals.css
    app/live/page.tsx
  </files>
  <action>
1. Update `app/layout.tsx`:
   - Import Navigation from "@/app/components/ui/Navigation"
   - Add Navigation component INSIDE providers but BEFORE {children}
   - Structure: ConvexClientProvider > NuqsAdapter > Navigation + {children}
   - Add main wrapper with mobile bottom padding: wrap {children} in a div with className "flex-1 pb-20 md:pb-0" to account for mobile bottom nav

2. Update `app/globals.css`:
   - Add safe-area-inset support for iOS devices (if not already present):
     ```css
     @supports (padding-bottom: env(safe-area-inset-bottom)) {
       .safe-area-bottom {
         padding-bottom: env(safe-area-inset-bottom);
       }
     }
     ```

3. Update `app/live/page.tsx`:
   - Remove or adjust h-screen from LiveFeedContent wrapper if it conflicts with new layout
   - The live page should work within the new layout structure

The existing Header.tsx in the live page will remain - it's specific to the live feed (shows expand/collapse, connection status). The new Navigation is the site-wide nav bar.
  </action>
  <verify>
    - bun run build succeeds
    - Navigation appears when visiting http://localhost:3000
    - Desktop: header at top with nav links
    - Mobile (resize to <768px): bottom nav with icons
  </verify>
  <done>Navigation integrated in root layout, mobile padding added, safe area CSS support</done>
</task>

<task type="auto">
  <name>Task 3: Create placeholder About page for navigation testing</name>
  <files>
    app/about/page.tsx
  </files>
  <action>
1. Create `app/about/page.tsx`:
   - Simple placeholder page for testing navigation
   - Content: centered text "About page - Coming soon"
   - Add min-h-screen and flex centering
   - Export metadata with title "About | agentstype.dev"
   - This is a Server Component (no "use client" needed)

This placeholder ensures navigation works for all 3 routes before the full About page is built in Plan 03.
  </action>
  <verify>
    - File exists at app/about/page.tsx
    - Visiting http://localhost:3000/about shows placeholder
    - Navigation highlights "About" link when on /about
  </verify>
  <done>Placeholder About page created for navigation testing</done>
</task>

</tasks>

<verification>
1. `bun run build` completes without errors
2. Start dev server: `bun dev`
3. Desktop verification (viewport > 768px):
   - Visit http://localhost:3000 - see header with Home, Live, About links
   - Click each link - page navigates correctly
   - Active link is highlighted (text-zinc-100)
4. Mobile verification (viewport < 768px):
   - Header hidden, bottom nav visible
   - Icons + labels for Home, Live, About
   - Tap each - navigates correctly
   - Active tab is highlighted
5. Navigation persists across route changes (no flash/re-render)
</verification>

<success_criteria>
- Navigation component renders on all routes
- Desktop header is sticky at top
- Mobile bottom nav is fixed at bottom
- Active page indication works correctly
- Safe area insets don't clip content on iOS
- Build passes with no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-pages-navigation/05-01-SUMMARY.md`
</output>
